(this["webpackJsonpjournal-app-rev"]=this["webpackJsonpjournal-app-rev"]||[]).push([[0],{66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a.n(n),r=a(39),s=a.n(r),l=a(15),o=a(11),i=a(41),d=a(31),u=a(17),b="[Auth] Login",j="[Auth] Logout",m="[Notes] Set Active note",p="[Notes] Add New Note",h="[Notes] Load notes",x="[Notes] Updated note",O="[Notes] Delete note",f=function(e,t){return{type:b,payload:{uid:e,displayName:t}}},v=a(26),g=a(28),y=a(50);Object(y.a)({apiKey:"AIzaSyBr-o9uRs7WdXvXnf9CGseEA4zX8RGz3i0",authDomain:"journal-app-e0bae.firebaseapp.com",projectId:"journal-app-e0bae",storageBucket:"journal-app-e0bae.appspot.com",messagingSenderId:"327503991981",appId:"1:327503991981:web:f94a71207ab1b2f50b2224"});var N=Object(v.f)(),w=(new g.a,Object(g.c)()),k=a(34),S=a(0),C=a.n(S),R=a(1),I={defaults:{namespace:"Journal Application"}}.defaults.namespace,L=function(){return(new Date).toISOString()},A={info:function(e,t){"string"===typeof e?console.log("[".concat(L(),"] [").concat(t||I,"] [INFO] ").concat(e)):console.log("[".concat(L(),"] [").concat(t||I,"] [INFO]"),e)},warn:function(e,t){"string"===typeof e?console.log("[".concat(L(),"] [").concat(t||I,"] [WARN] ").concat(e)):console.log("[".concat(L(),"] [").concat(t||I,"] [WARN]"),e)},error:function(e,t){"string"===typeof e?console.log("[".concat(L(),"] [").concat(t||I,"] [ERROR] ").concat(e)):console.log("[".concat(L(),"] [").concat(t||I,"] [ERROR]"),e)}},D=function(){return function(e){Object(g.e)(w).then((function(){e({type:j})}),(function(e){var t=e.message;A.error(t)}))}},E=a(5),V="input input-bordered w-full mb-2",z=function(e,t){return{type:m,payload:{id:e,notes:t}}},F=function(e){return{type:h,payload:e}},P=function(e){return{type:x,payload:Object(o.a)({},e)}},T=function(e){return{type:O,payload:e}},W=function(){var e=Object(R.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,Object(v.e)(Object(v.b)(N,"".concat(t),"/journal/notes"));case 3:return e.sent.forEach((function(e){a.push({id:e.id,notes:{title:e.data().title,body:e.data().body,date:e.data().date,url:e.data().url}})})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(e){var t=Object(l.b)();return Object(E.jsxs)("div",{className:"navbar mb-1 shadow-lg bg-neutral text-neutral-content",children:[Object(E.jsx)("div",{className:"px-2 mx-2",children:Object(E.jsx)("span",{className:"text-lg font-bold",children:Object(E.jsx)("i",{className:"far fa-sticky-note"})})}),Object(E.jsxs)("div",{className:"flex-none px-2 mx-2 lg:flex",children:[Object(E.jsx)("div",{className:"flex items-stretch",children:Object(E.jsxs)("button",{className:"btn btn-ghost btn-sm rounded-btn",children:[Object(E.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(E.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Add Picture"]})}),Object(E.jsx)("div",{className:"flex items-stretch",children:Object(E.jsxs)("button",{className:"btn btn-ghost btn-sm rounded-btn",onClick:function(){var a;t(z(e.id,e.note)),t((a={id:e.id,notes:e.note},function(){var e=Object(R.a)(C.a.mark((function e(t,n){var c,r,s,l,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),s=null===(c=r.auth)||void 0===c?void 0:c.uid,l=Object(o.a)({},a.notes),i=Object(v.d)(N,"".concat(s,"/journal/notes/").concat(a.id)),e.next=6,Object(v.g)(i,l);case 6:t(P(a));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()))},children:[Object(E.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(E.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Save Notes"]})})]})]})},q=a(35),M=a.n(q),G=function(e){var t,a,c=Object(l.c)((function(e){return e.notes})).active,r=Object(k.a)(),s=r.register,i=r.watch,d=r.setValue;return Object(n.useEffect)((function(){var e,t,a,n;d("title",null!==c?null===(e=c.notes)||void 0===e?void 0:e.title:""),d("date",null===(t=c.notes)||void 0===t?void 0:t.date),d("body",null!==c?null===(a=c.notes)||void 0===a?void 0:a.body:""),d("url",null!==c?null===(n=c.notes)||void 0===n?void 0:n.url:"")}),[c]),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"w-full",children:Object(E.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(E.jsx)(B,{id:c.id,note:i()}),Object(E.jsxs)("div",{className:"p-10 bg-base-200 mt-3",children:[Object(E.jsx)("small",{children:M()(parseInt(null===(t=c.notes)||void 0===t?void 0:t.date)).format("ll").toString()}),Object(E.jsxs)("div",{className:"form-control",children:[Object(E.jsx)("label",{className:"label",children:Object(E.jsx)("span",{className:"label-text text-2xl",children:"Note Title"})}),Object(E.jsx)("input",Object(o.a)({type:"text",placeholder:"Write your title message",className:"input"},s("title")))]}),Object(E.jsxs)("div",{className:"form-control",children:[Object(E.jsx)("label",{className:"label",children:Object(E.jsx)("span",{className:"label-text text-2xl",children:"Description"})}),Object(E.jsx)("textarea",Object(o.a)({className:"textarea h-24 textarea-bordered",placeholder:"Write your body message",defaultValue:null!==c?null===(a=c.notes)||void 0===a?void 0:a.body:""},s("body")))]}),Object(E.jsx)("img",{src:"https://picsum.photos/seed/picsum/200/300",alt:"random img",className:"mx-auto mask mask-squircle"})]})]})})})},U=function(){return Object(E.jsx)("div",{className:"w-full",children:Object(E.jsx)("div",{className:"hero min-h-screen bg-base-200",children:Object(E.jsx)("div",{className:"text-center hero-content",children:Object(E.jsx)("div",{className:"max-w-md",children:Object(E.jsx)("h1",{className:"mb-5 text-5xl font-bold",children:"Nothing Selected"})})})})})},J=function(e){var t=Object(l.c)((function(e){return e.notes})).active,a=e.notes,n=Object(l.b)();return Object(E.jsxs)("article",{tabIndex:0,onClick:function(){var t={title:(null===a||void 0===a?void 0:a.title)||"",body:(null===a||void 0===a?void 0:a.body)||"",date:(null===a||void 0===a?void 0:a.date)||M()((new Date).getTime()).format("ll"),url:(null===a||void 0===a?void 0:a.url)||""};n(z(e.id,t))},className:"cursor-pointer overflow-x-hidden border rounded-md p-3 bg-white flex text-gray-700 mb-2 hover:border-green-500 focus:outline-none focus:border-green-500",children:[Object(E.jsx)("img",{className:"h-28 w-full rounded-md",src:"https://picsum.photos/seed/picsum/200/300",alt:"img random"}),Object(E.jsxs)("div",{className:"flex-1",children:[(null===t||void 0===t?void 0:t.id)===e.id&&Object(E.jsx)("span",{className:"badge badge-primary ml-1",children:"Selected"}),Object(E.jsx)("header",{className:"mb-1",children:(null===a||void 0===a?void 0:a.title)&&""!==a.title?a.title:""}),Object(E.jsx)("p",{className:"text-gray-600 truncate w-60 pl-1 pr-2",children:(null===a||void 0===a?void 0:a.body)&&""!==a.body?a.body:""}),Object(E.jsx)("footer",{className:"text-gray-500 mt-2 text-sm",children:(null===a||void 0===a?void 0:a.date)?M()(parseInt(a.date)).format("ll"):M()((new Date).getTime()).format("ll")})]})]})},X=function(e){var t=Object(l.c)((function(e){return e.notes}));return Object(E.jsx)("div",{className:"mt-3 h-full overflow-y-scroll ",children:null===t||void 0===t?void 0:t.notes.map((function(e){return Object(E.jsx)(J,Object(o.a)({id:e.id},e),e.id)}))})},H=function(e){var t=Object(l.c)((function(e){return e.notes})).active,a=Object(l.b)(),n=Object(u.g)();return Object(E.jsxs)("div",{className:"flex flex-col h-screen w-500 items-center text-center bg-teal-900 text-gray-400 border-r",children:[Object(E.jsx)("span",{className:"my-3 text-3xl",children:" Journal App "}),Object(E.jsxs)("ul",{className:"menu px-3 shadow-lg bg-base-100 rounded-box horizontal",children:[Object(E.jsx)("li",{children:Object(E.jsx)("button",{type:"button",onClick:function(){a(function(){var e=Object(R.a)(C.a.mark((function e(t,a){var n,c,r,s,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a(),r=null===(n=c.auth)||void 0===n?void 0:n.uid,s={title:"",body:"",date:(new Date).getTime().toString(),url:""},e.next=5,Object(v.a)(Object(v.b)(N,"".concat(r),"/journal/notes"),Object(o.a)({},s));case 5:l=e.sent,t(z(l.id,s)),t((i=l.id,{type:p,payload:{id:i,note:s}}));case 8:case"end":return e.stop()}var i}),e)})));return function(t,a){return e.apply(this,arguments)}}())},className:"p-4 bg-gray-100 hover:bg-gray-300 hover:bg-opacity-75",children:Object(E.jsx)("i",{className:"fas fa-plus"})})}),Object(E.jsx)("li",{children:Object(E.jsx)("button",{type:"button",className:"p-4 bg-gray-100 hover:bg-gray-300 hover:bg-opacity-75",onClick:function(){var e;null!==t&&""!==t.id&&a((e=t.id,function(){var t=Object(R.a)(C.a.mark((function t(a,n){var c,r,s,l;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),s=null===(c=r.auth)||void 0===c?void 0:c.uid,l=Object(v.d)(N,"".concat(s,"/journal/notes/").concat(e)),t.prev=3,t.next=6,Object(v.c)(l);case 6:a(T(e)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),A.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(e,a){return t.apply(this,arguments)}}()))},children:Object(E.jsx)("i",{className:"fas fa-trash-alt"})})}),Object(E.jsx)("li",{children:Object(E.jsx)("button",{type:"button",className:"p-4 bg-gray-100 hover:bg-gray-300 hover:bg-opacity-75",onClick:function(){a(D()),n.push("/auth/login")},children:Object(E.jsx)("i",{className:"fas fa-sign-out-alt"})})})]}),Object(E.jsx)(X,{})]})},Y=[{path:"/auth/login",name:"Login Page",component:function(e){var t="input input-bordered w-full mb-2",a=Object(k.a)(),n=a.register,c=a.handleSubmit,r=a.formState.errors,s=Object(u.g)(),i=Object(l.b)();return Object(E.jsx)("div",{className:"w-screen h-screen flex justify-center items-center bg-gray-100",children:Object(E.jsxs)("form",{onSubmit:c((function(e){var t,a;i((t=null===e||void 0===e?void 0:e.email,a=null===e||void 0===e?void 0:e.password,function(e){Object(g.d)(w,t,a).then((function(t){var a=t.user;null!=a.uid&&null!=a.displayName&&e(f(a.uid,a.displayName))})).catch((function(e){var t=e.message;A.error(t)}))})),s.push("/")})),className:"p-10 bg-white rounded flex justify-center items-center flex-col shadow-md",children:[Object(E.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-20 h-20 text-gray-600 mb-2",viewBox:"0 0 20 20",fill:"currentColor",children:Object(E.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})}),Object(E.jsx)("p",{className:"mb-5 text-3xl uppercase text-gray-600",children:"Login"}),Object(E.jsx)("input",Object(o.a)({defaultValue:"juan@ejemplo.com",className:r.email?"".concat(t," input-error"):t,type:"email"},n("email",{required:"Cannot be empty"}))),r.email&&Object(E.jsx)("label",{className:"label",children:Object(E.jsx)("span",{className:"label-text-alt text-red-500",children:r.email.message})}),Object(E.jsx)("input",Object(o.a)({defaultValue:"1234567",className:r.password?"".concat(t," input-error"):t,type:"password"},n("password",{required:"Cannot be empty"}))),r.password&&Object(E.jsx)("label",{className:"label",children:Object(E.jsx)("span",{className:"label-text-alt text-red-500",children:r.password.message})}),Object(E.jsx)("button",{className:"btn btn-primary w-full mb-2",type:"submit",children:Object(E.jsx)("span",{children:"Login"})}),Object(E.jsx)("button",{className:"btn btn-accent w-full",type:"button",onClick:function(){return s.push("/auth/register")},children:Object(E.jsx)("span",{children:"SIGN UP"})})]})})},exact:!0},{path:"/auth/register",name:"Register Page",component:function(e){var t=Object(l.b)(),a=Object(u.g)(),n=Object(k.a)(),c=n.register,r=n.handleSubmit,s=n.formState.errors;return Object(E.jsx)("div",{className:"w-screen h-screen flex justify-center items-center bg-gray-100",children:Object(E.jsxs)("form",{onSubmit:r((function(e){var n,c,r;console.log(e),t((n=null===e||void 0===e?void 0:e.email,c=null===e||void 0===e?void 0:e.password,r=null===e||void 0===e?void 0:e.usuario,function(e){Object(g.b)(w,n,c).then(function(){var t=Object(R.a)(C.a.mark((function t(a){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.user,t.next=3,Object(g.f)(n,{displayName:r});case 3:null!=n.uid&&null!=n.displayName&&e(f(n.uid,n.displayName));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){var t=e.message;A.error(t)}))})),a.replace("/")})),className:"p-10 w-96 bg-white rounded flex justify-center items-center flex-col shadow-md",children:[Object(E.jsx)("p",{className:"mb-5 text-3xl uppercase text-gray-600",children:"REGISTER"}),Object(E.jsxs)("div",{className:"form-control w-80",children:[Object(E.jsx)("label",{className:"label",children:Object(E.jsx)("span",{className:"label-text",children:"Usuario"})}),Object(E.jsx)("input",Object(o.a)({defaultValue:"pepe",className:s.usuario?"".concat(V," input-error"):V,type:"text"},c("usuario",{required:"Cannot be empty"}))),s.password&&Object(E.jsx)("label",{className:"label",children:Object(E.jsx)("span",{className:"label-text-alt text-red-500",children:s.password.message})})]}),Object(E.jsxs)("div",{className:"form-control w-80",children:[Object(E.jsx)("label",{className:"label",children:Object(E.jsx)("span",{className:"label-text",children:"Email"})}),Object(E.jsx)("input",Object(o.a)({defaultValue:"",className:s.email?"".concat(V," input-error"):V,type:"email"},c("email",{required:"Cannot be empty"}))),s.email&&Object(E.jsx)("label",{className:"label",children:Object(E.jsx)("span",{className:"label-text-alt text-red-500",children:s.email.message})})]}),Object(E.jsxs)("div",{className:"form-control w-80",children:[Object(E.jsx)("label",{className:"label",children:Object(E.jsx)("span",{className:"label-text",children:"Password"})}),Object(E.jsx)("input",Object(o.a)({defaultValue:"1234567",className:s.password?"".concat(V," input-error"):V,type:"password"},c("password",{required:"Cannot be empty"}))),s.password&&Object(E.jsx)("label",{className:"label",children:Object(E.jsx)("span",{className:"label-text-alt text-red-500",children:s.password.message})})]}),Object(E.jsx)("button",{className:"btn btn-primary w-full mt-5",type:"submit",children:Object(E.jsx)("span",{children:"SIGN UP"})}),Object(E.jsx)("label",{className:"mt-2",children:Object(E.jsx)(d.b,{to:"/auth/login",className:"link link-secondary",children:"\xbfY\xe1 estas registrado?"})})]})})},exact:!0}],K=[{path:"/",name:"Note Page",component:function(e){var t=Object(l.c)((function(e){return e.notes})).active;return Object(E.jsx)("div",{className:"h-screen",children:Object(E.jsxs)("div",{className:"h-full flex antialiased text-gray-900 bg-gray-100",children:[Object(E.jsx)(H,{}),null===t?Object(E.jsx)(U,{}):Object(E.jsx)(G,{})]})})},exact:!0}],Q=function(e){var t=e.children,a=Object(l.c)((function(e){return e.auth}));return(null===a||void 0===a?void 0:a.authethicated)?Object(E.jsx)(E.Fragment,{children:t}):(A.info("Unauthorized, redirecting."),Object(E.jsx)(u.a,{to:"/auth/login"}))},Z=function(e){var t=e.children,a=Object(l.c)((function(e){return e.auth}));return(null===a||void 0===a?void 0:a.authethicated)?(A.info("You are already logged"),Object(E.jsx)(u.a,{to:"/"})):Object(E.jsx)(E.Fragment,{children:t})},$=function(e){var t=Object(l.b)();return Object(n.useEffect)((function(){Object(i.d)(w,(function(e){var a;(null===e||void 0===e?void 0:e.uid)&&null!=e.uid&&null!=e.displayName&&(t(f(e.uid,e.displayName)),t((a=e.uid,function(){var e=Object(R.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(a);case 2:n=e.sent,t(F(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))}))}),[t]),Object(E.jsx)(d.a,{children:Object(E.jsxs)(u.d,{children:[Y.map((function(e,t){return Object(E.jsx)(u.b,{path:e.path,exact:e.exact,render:function(t){return Object(E.jsx)(Z,{children:Object(E.jsx)(e.component,Object(o.a)(Object(o.a)({name:e.name},t),e.props))})}},t)})),K.map((function(e,t){return Object(E.jsx)(u.b,{path:e.path,exact:e.exact,render:function(t){return Object(E.jsx)(Q,{children:Object(E.jsx)(e.component,Object(o.a)(Object(o.a)({name:e.name},t),e.props))})}},t)}))]})})},_=a(36),ee=a(52),te={uid:"",name:"",authethicated:!1},ae=a(53),ne=a(12),ce={notes:[],active:null},re=Object(_.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{uid:t.payload.uid,name:t.payload.displayName,authethicated:!0};case j:return Object(o.a)({},te);default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(o.a)(Object(o.a)({},e),{},{active:Object(o.a)({},t.payload)});case p:return Object(o.a)(Object(o.a)({},e),{},{notes:[t.payload].concat(Object(ne.a)(e.notes))});case h:return Object(o.a)(Object(o.a)({},e),{},{notes:Object(ne.a)(t.payload)});case x:return Object(o.a)(Object(o.a)({},e),{},{notes:e.notes.map((function(a,n){return e.notes[n].id===t.payload.id?t.payload:a}))});case O:return Object(o.a)(Object(o.a)({},e),{},{notes:Object(ne.a)(e.notes.filter((function(a,n){return e.notes[n].id!==t.payload}))),active:null});default:return e}}}),se=Object(ae.composeWithDevTools)({})||_.compose,le=Object(_.createStore)(re,se(Object(_.applyMiddleware)(ee.a))),oe=function(e){return Object(E.jsx)(l.a,{store:le,children:Object(E.jsx)($,{})})},ie=(a(66),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))});s.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(oe,{})}),document.getElementById("root")),ie()}},[[67,1,2]]]);
//# sourceMappingURL=main.3c08b1e7.chunk.js.map